<!DOCTYPE HTML>
<html>
	<head>	
		<title>Grayson Kent</title>
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta name="robots" content="index, follow">
		<meta name="description" content="Home Page for Grayson Kent {Linux,Security,Networking,Virtualization} geek">
		<link rel="icon" type="image/png" href="images/tux.png">
		<link rel="stylesheet" href="css/style.css"/>
		<script src="js/d3.v4.min.js"></script>
	</head>
	<body>	
		<section id="banner">
			<div class="inner">
				<h2>Grayson Kent
					<br/><p>Linux &#8226; Security &#8226; Networking &#8226; Virtualization</p>
				</h2>
<canvas width="936" height="250" 				
title="A visual representation of Random Walk/Branching stochastic process.
Each generation determines its location based off of parent nodes and a random variable. 
These elements, located in linear space, influence the next descendants.">
<script async>

var canvas = document.querySelector("canvas"),
    context = canvas.getContext("2d"),
    width = canvas.width,
    height = canvas.height,
    color = d3.scaleSequential(d3.interpolateRainbow).domain([800, 2000]),
    randomX = d3.randomNormal(0.4),
    randomY = d3.randomNormal(0);

render();

canvas.onclick = render;

function render() {
  var x0 = width / 10,
      y0 = height / 2,
      mainWalk = randomWalk(x0, y0, 600);

  context.clearRect(0, 10, width, height);
  context.lineJoin = "round";
  context.lineCap = "round";
  context.lineWidth = .0005;
  context.strokeStyle = "transparent";
  renderWalk(mainWalk);

  context.globalCompositeOperation = "multiply";
  context.lineWidth = 1;
  for (var i = 0; i < mainWalk.length; i += 2) {
    var branchStart = mainWalk[i],
        x0 = branchStart[0],
        y0 = branchStart[1];
    for (var j = 0; j < 1; ++j) {
      context.strokeStyle = color(i + (Math.random() - 1.5) * 50);
      var x1 = x0, y1 = y0;
      for (var k = 0, m = 20; k < m; ++k) {
        context.globalAlpha = (m - k - 1) / m;
        var pieceWalk = randomWalk(x1, y1, 8),
            pieceEnd = pieceWalk[pieceWalk.length - 1];
        renderWalk(pieceWalk);
        x1 = pieceEnd[0];
        y1 = pieceEnd[1];
      }
      context.globalAlpha = 1;
    }
  }
}

function renderWalk(walk) {
  var i, n = walk.length;
  context.beginPath();
  context.moveTo(walk[0][0], walk[0][1]);
  for (i = 1; i < n; ++i) {
    context.lineTo(walk[i][0], walk[i][1]);
  }
  context.stroke();
}

function randomWalk(x0, y0, n) {
  var points = new Array(n), i;
  points[0] = [x0, y0];
  for (i = 1; i < n; ++i) {
    points[i] = [
      x0 += randomX() * 2.3,
      y0 += randomY() * 1.75
    ];
  }
  return points;
}

</script>
</canvas>
				<ul class="actions">
					<li><a href="blog/index.html">blog</a></li> 
					<li><a href="http://blog.graysonskent.com/">about</a></li> 
					<li><a href="http://blog.graysonskent.com/">portfolio</a></li> 
					<li><a href="mailto:grayson@linux.com">contact  </a></li> 
				</ul>
			</div>
		</section> 
	</body>
</html>