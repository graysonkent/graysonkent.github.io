<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stopping Cisco IOS Domain Name Translation</title>
    <meta name="robots" content="index, follow">
    <meta name="description" content="Blog for Grayson Kent - Linux,Security,Networking,Virtualization">
    <meta name="author" content="Grayson Kent"/>
    <script type="text/javascript" src="../../js/SyntaxHighlight/shCore.js"></script>
    <script type="text/javascript" src="../../js/SyntaxHighlight/Bash.js"></script>
    <script type="text/javascript" src="../../js/SyntaxHighlight/XML.js"></script>
    <link href="../../css/shThemeDefault.css" rel="stylesheet" type="text/css"/>
    <link href="../../css/shCore.css" rel="stylesheet" type="text/css"/>
    <link href="../../css/posts.css" rel="stylesheet" type="text/css"/>
    <link rel="icon" type="image/png" href="../../../images/tux.png">
</head>
<ul id="header">
    <li class="navbar"><a href="mailto:grayson@linux.com" class="button">Contact</a></li>
    <li class="navbar"><a href="../../../about.html" class="button">About</a></li>
    <li class="navbar"><a href="../../index.html" class="button">Archive</a></li>
    <li class="navbar"><a href="../../../index.html" class="button">Home</a></li>
</ul>
<h2>Stopping Cisco IOS Domain Name Translation <span class="date">2/27/2017</span></h2>
<p>I often switch between Cisco IOS and Bash so I absentmindedly type ‘ls’ into a IOS prompt and have to wait 30 seconds
    on this error:</p>
<pre class="brush: bash">
							Translating "ls"...domain server (255.255.255.255)
							% Unknown command or computer name, or unable to find computer address</pre>
<p>To stop this, you can just press ‘CTRL+Shift+6’. But for more long-term fixes, see the options below:</p>
<h3 class="stepTitle">Option 1: Stop router from starting connection without telnet keyword</h3>
<pre class="brush: bash">
							router(config) #ip domain lookup
							router(config-line)#line con 0
							router(config-line)#transport preferred none</pre>
<h3 class="stepTitle">Option 2: Shorten TCP Connection Timeout</h3>
<pre class="brush: bash">
							router(config) #ip tcp synwait-time 10</pre>
<p>This isn’t preferable as it can affect things like handshakes for Multicast/BGP</p>
<h3 class="stepTitle">Option 3: Disable Domain Lookup:</h3>
<pre class="brush: bash">
							router(config) #no ip domain lookup</pre>
<p>I hesitate to recommend this one as it might affect the 1% of sites that need it. Also it stops DNS load-balancing,
    which I need in enterprise environments. You can also disable per session Domain Lookup like so:</p>
<pre class="brush: bash">
							#terminal no domain-lookup</pre>
<h2>Further Reading:</h2>
<ul class="referenceList">
    <li><a href="http://www.cisco.com/c/en/us/support/docs/routers/10000-series-routers/46253-ipdomain-lookup.html"
           class="reference">Cisco Documentation (Jan 2017)</a></li>
    <li><a href="http://smallbusiness.chron.com/disable-dns-lookup-cisco-58863.html" class="reference">Key by Key Guide
        (Dec 2012)</a></li>
</ul>
<script type="text/javascript">SyntaxHighlighter.all()</script>
</html>